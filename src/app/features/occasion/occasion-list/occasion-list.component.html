<!--breadcrumb-->
<app-breadcrumb breadcrumb="occasions"></app-breadcrumb>
    <!--end breadcrumb-->

    <div class="card">
      <div class="card-body p-4">
        <div class="form-body mt-4">
          <div class="row">
            <div class="col-lg-12">
              <div class="border border-3 p-4 rounded">
                <form [formGroup]="form" (ngSubmit)="form.valid && formSubmit()">
                <div class="row g-3">
                  <div class="col-md-3">
                    <label for="inputPrice" class="form-label">Nom</label>
                    <input  formControlName="name" type="text"   class="form-control" id="inputPrice" placeholder="anniversaire" [ngClass]="validateFormControlName('name')">
                  </div>
                  <div class="col-md-3">
                    <label for="inputCompareatprice" class="form-label">Icon</label>
                    <input formControlName="icon"  type="text" class="form-control" id="inputCompareatprice" placeholder="person-alt" [ngClass]="validateFormControlName('icon')"  >
                  </div>
                  <div class="col-md-3">
                    <label for="occasion_type_id" class="form-label">Occasion Type</label>
                    <select *ngIf="occasionsTypes$ as  roles" formControlName="occasion_type_id"  [ngClass]="validateFormControlName('occasion_type_id')" class="form-select" id="occasion_type_id">
                      <option   *ngFor="let occasionsType of roles"  value="{{occasionsType.id}}">{{occasionsType.name}}</option>
                    </select>
                  </div>
                  <div class="col-md-3 mt-5">
                    <div class="d-grid" >
                      <button *ngIf="!formLoading" type="submit" [disabled]="form.invalid" class="btn btn-primary">Enregistrer</button>
                      <app-loader-submit [isLoading]="formLoading"></app-loader-submit>
                    </div>
                  </div>
                </div>
                </form>
              </div>
            </div>
            <div class="col-lg-12">
              <div class="card">
                <div class="card-body">
                  <div class="table-responsive" *ngIf="occasions$ | async  as categories">
                    <table id="example" class="table table-striped table-bordered">
                      <thead>
                      <tr>
                        <th>Id</th>
                        <th>Nom</th>
                        <th>Icon</th>
                        <th>Type</th>
                        <th>Actions</th>
                      </tr>
                      </thead>
                      <tbody>
                      <tr *ngFor="let occasion of categories">
                        <td>{{occasion.id}}</td>
                        <td>{{occasion.name}}</td>
                        <td>{{occasion.icon}}</td>
                        <td>{{occasion.occasion_type.name}}</td>
                        <td>
                          <div class="d-flex order-actions">
                            <a (click)="onUpdateButtonClicked(occasion)" class=""><i class='bx bxs-edit'></i></a>
                          </div>
                        </td>
                      </tr>
                      </tbody>
                      <tfoot>
                      <tr>
                        <th>Nom</th>
                        <th>Slug</th>
                        <th>Description</th>
                      </tr>
                      </tfoot>
                    </table>
                  </div>
                </div>
              </div>

            </div>
          </div><!--end row-->
        </div>
      </div>
    </div>


<!--end page wrapper -->
